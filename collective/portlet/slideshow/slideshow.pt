<div class="portlet portletSlideshow"
    i18n:domain="plone"
    tal:define="collection_url view/collection_url;
                plone_view context/@@plone;
                toLocalizedTime nocall:plone_view/toLocalizedTime;
                viewActions here/portal_properties/site_properties/typesUseViewActionInListings|python:();"
    tal:attributes="class string:portlet portletSlideshow ${view/css_class}">

    <div class="slideshow" id="slickslideshow">
        <div class="slideshowWrapper">
            <div class="slick-slideshow collection">
                <!-- Slideshow content -->
                <tal:events tal:repeat="obj view/results">
                    <tal:definitions 
                        tal:define="item_obj obj/getObject;
                                    item_type obj/Type;
                                    item_title python: item_obj.Title();
                                    item_description python: item_obj.Description();">
                        <tal:isobject tal:condition="python: item_type == 'Object'">
                            <div tal:define="item_img python:view.getImageObject(obj);
                                item_text python: item_obj.text.output;
                                item_url python: item_obj.absolute_url();
                                images item_img/@@images;
                                scale python: images.scale('image', scale='large')"

                                tal:attributes="data-body python: item_text; data-title python: item_title; data-description python: item_description; data-url python: item_url;">
                                
                                    <div class="inner-bg" tal:condition="scale">
                                        <img tal:replace="structure python: scale.tag(css_class='tileImage', alt='', title='')"/>
                                    </div>
                            </div>
                        </tal:isobject>

                        <tal:islink tal:condition="python: item_type == 'Link'">
                            <div tal:define="item_url python: item_obj.absolute_url();"

                                tal:attributes="data-title python: item_title; data-description python: item_description; data-url python: item_url;" class="video-slide">
                                    <iframe frameborder="0" allowfullscreen tal:attributes="id obj/getId; src python:item_obj.remoteUrl+'?enablejsapi=1&wmode=transparent&rel=0&showinfo=0&autohide=1&controls=0'"></iframe>
                            </div>
                        </tal:islink>
                    </tal:definitions>
                </tal:events>
                <!-- Slideshow content -->
            </div> <!-- Slideshow inside -->
            <div id="slideshow-controls" class="container">
                <div class="col-lg-9 col-md-9 col-sm-9 col-sx-12">
                    <p class="slide-description"><span id="slide-count"></span><span id="slide-description"></span></p>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12 actions-div">
                    <a type="button" class="btn btn-default"></a>
                    <a type="button" class="btn btn-default info-btn hidden-xs"><i class="fa fa-info-circle"></i></a>
                    <a type="button" class="btn btn-default play-btn playing"><i class="fa fa-pause"></i></a>
                    <a type="button" class="btn btn-default expand-btn"><i class="fa fa-compress"></i></a>
                    <a type="button" class="btn btn-default info-btn visible-xs"><i class="fa fa-info-circle"></i></a>
                </div>
            </div>
        </div> <!-- Slideshow Wrapper -->
    </div> 

   <div class="object-fields" style="height: auto;" tal:define="first_item python:view.results()[0]">
        <tal:objectfirst tal:condition="python: first_item.portal_type == 'Object'">
            <div id="parent-fieldname-text">
                <div id="body-text">
                    <p tal:condition="first_item/text" tal:content="structure python:first_item.text.output_relative_to(context.view)" ></p>
                </div>
            
                <div class="container object-container" style="display:block;">
                    <div class="object-fieldset"></div>
                </div>   
            </div> 
        </tal:objectfirst>
   </div>


</div>
