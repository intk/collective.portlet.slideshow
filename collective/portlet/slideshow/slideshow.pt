<div class="portlet portletSlideshow"
    i18n:domain="plone"
    tal:define="collection_url view/collection_url;
                plone_view context/@@plone;
                toLocalizedTime nocall:plone_view/toLocalizedTime;
                viewActions here/portal_properties/site_properties/typesUseViewActionInListings|python:();"
    tal:attributes="class string:portlet portletSlideshow ${view/css_class}">

    <div class="slideshow" id="slickslideshow" tal:attributes="data-url collection_url">
        <div class="slideshowWrapper">
            <div class="slick-slideshow collection">

                <tal:events tal:repeat="obj view/results">
                    <tal:definitions 
                        tal:define="item_type obj/Type;
                                    obj_id obj/getId;
                                    obj_brain obj/_brain;
                                    item_title obj/Title;
                                    item_description obj/Description;
                                    first repeat/obj/start">
                        
                        <tal:isobject tal:condition="python: item_type in ['Object', 'Event', 'Exhibition']"
                            tal:define="item_img python:view.getImageObject(obj);">
                            
                            <tal:hasimage tal:condition="python: item_img != None">
                                
                                <div tal:define="item_url obj/getURL;
                                    images item_img/@@images;
                                    scale python: images.scale('image', scale='large')"
                                    tal:attributes="data-title python: item_title; data-description python: item_description; data-url python: item_url;">
                                    
                                        <div class="inner-bg" tal:condition="scale">
                                            <img tal:replace="structure python: scale.tag(css_class='tileImage', alt='', title='')"/>
                                        </div>
                                </div>

                            </tal:hasimage>
                        </tal:isobject>

                        <tal:islink tal:condition="python: item_type == 'Link'">

                            <div tal:define="item_url obj/getUrl;
                                            remoteURL obj_brain/getRemoteUrl;
                                            item_img python:view.getImageObject(obj);"
                                tal:attributes="data-title python: item_title; data-description python: item_description; data-url python: item_url;" class="video-slide">

                                    <tal:firstslide>
                                        <tal:usepicture tal:condition="python: item_img != None">
                                            <div class="video-play-btn"></div>

                                            <img tal:define="images item_img/@@images; scale python: images.scale('image', scale='large');" tal:replace="structure python: scale.tag(css_class='overlay-image', alt='', title='')" tal:condition="python: item_img != None"/>
                                            
                                            <iframe frameborder="0" allowfullscreen tal:attributes="id obj_id; src remoteURL" class="video-iframe with-overlay"></iframe>
                                        </tal:usepicture>
                                        
                                        <tal:nopicture tal:condition="python: item_img == None">
                                            <iframe frameborder="0" allowfullscreen tal:attributes="id obj_id; src remoteURL" class="video-iframe without-overlay"></iframe>
                                        </tal:nopicture>

                                    </tal:firstslide>
                            </div>
                        </tal:islink>

                    </tal:definitions>
                </tal:events>

            </div> 
            <div id="slideshow-controls" class="container">
                <div class="col-lg-9 col-md-9 col-sm-9 col-sx-12 count-description">
                    <p class="slide-description"><span id="slide-count"></span><span id="slide-description"></span></p>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 actions-div">
                    <a type="button" class="btn btn-default"></a>
                    <a type="button" class="btn btn-default info-btn hidden-xs"><i class="fa fa-info-circle"></i></a>
                    <a type="button" class="btn btn-default info-btn visible-xs"><i class="fa fa-info-circle"></i></a>
                    <a type="button" class="btn btn-default play-btn playing"><i class="fa fa-pause"></i></a>
                    <a type="button" class="btn btn-default expand-btn"><i class="fa fa-compress"></i></a>
                    <a type="button" class="btn btn-default share-btn" data-toggle="popover" data-placement="top"><i class="fa fa-share-alt"></i></a>
                    
                    <div id="share-title" style="display:none">
                        Deze pagina delen
                    </div>

                    <div id="share-settings" style="display:none">
                        <div class="row">
                                <div id="fb-root"></div>
                                <img rel="image_src" style="display:none;"/>
                                <div class="fb-share-button" tal:attributes="data-href python: context.absolute_url()" data-layout="button_count"></div>
                        </div>
                        <div class="row">
                            <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        </div>
                        <div class="row">
                            <a id="pinterest-btn" href="//www.pinterest.com/pin/create/button/?url=" data-pin-do="buttonPin" data-pin-config="none"><img src="//assets.pinterest.com/images/pidgets/pinit_fg_en_rect_gray_20.png"/>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class='uil-default-css slideshow-loader' style='-webkit-transform:scale(0.6)'><div style='top:80px;left:93px;width:14px;height:40px;background:#d75745;-webkit-transform:rotate(0deg) translate(0,-60px);transform:rotate(0deg) translate(0,-60px);border-radius:10px;position:absolute;'></div><div style='top:80px;left:93px;width:14px;height:40px;background:#d75745;-webkit-transform:rotate(30deg) translate(0,-60px);transform:rotate(30deg) translate(0,-60px);border-radius:10px;position:absolute;'></div><div style='top:80px;left:93px;width:14px;height:40px;background:#d75745;-webkit-transform:rotate(60deg) translate(0,-60px);transform:rotate(60deg) translate(0,-60px);border-radius:10px;position:absolute;'></div><div style='top:80px;left:93px;width:14px;height:40px;background:#d75745;-webkit-transform:rotate(90deg) translate(0,-60px);transform:rotate(90deg) translate(0,-60px);border-radius:10px;position:absolute;'></div><div style='top:80px;left:93px;width:14px;height:40px;background:#d75745;-webkit-transform:rotate(120deg) translate(0,-60px);transform:rotate(120deg) translate(0,-60px);border-radius:10px;position:absolute;'></div><div style='top:80px;left:93px;width:14px;height:40px;background:#d75745;-webkit-transform:rotate(150deg) translate(0,-60px);transform:rotate(150deg) translate(0,-60px);border-radius:10px;position:absolute;'></div><div style='top:80px;left:93px;width:14px;height:40px;background:#d75745;-webkit-transform:rotate(180deg) translate(0,-60px);transform:rotate(180deg) translate(0,-60px);border-radius:10px;position:absolute;'></div><div style='top:80px;left:93px;width:14px;height:40px;background:#d75745;-webkit-transform:rotate(210deg) translate(0,-60px);transform:rotate(210deg) translate(0,-60px);border-radius:10px;position:absolute;'></div><div style='top:80px;left:93px;width:14px;height:40px;background:#d75745;-webkit-transform:rotate(240deg) translate(0,-60px);transform:rotate(240deg) translate(0,-60px);border-radius:10px;position:absolute;'></div><div style='top:80px;left:93px;width:14px;height:40px;background:#d75745;-webkit-transform:rotate(270deg) translate(0,-60px);transform:rotate(270deg) translate(0,-60px);border-radius:10px;position:absolute;'></div><div style='top:80px;left:93px;width:14px;height:40px;background:#d75745;-webkit-transform:rotate(300deg) translate(0,-60px);transform:rotate(300deg) translate(0,-60px);border-radius:10px;position:absolute;'></div><div style='top:80px;left:93px;width:14px;height:40px;background:#d75745;-webkit-transform:rotate(330deg) translate(0,-60px);transform:rotate(330deg) translate(0,-60px);border-radius:10px;position:absolute;'></div></div>
        </div> 
    </div> 
</div>
